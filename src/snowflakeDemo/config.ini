[Version]
version = 1.0
date = 11.07.2018
status = dev

[Log Settings]
log-to-console = True
directory = ./logs
level = DEBUG

[Simulation Dates]
dbt_path = "."
history_date = '1992-01-08'
date1 = '1992-01-09'

[DBT Settings]
macro_path = "./macros"
vault_path = "./models/hub_sat_link_load"
stg_path = "./models/stg"

[Connections]
    [[SNOWFLAKE]]
    user = dv_chris
    password = n7!MZtrbC0^X
    account = sc10950.eu-west-1
    schema = SRC
    database = DV_PROTOTYPE_DB
    warehouse = DV_PROTOTYPE_WH
    role = DV_PROTOTYPE_ROLE

[Additional Files]
    [[additional_file1]]
    metadata = ./additional_file1.data

[Hashing]
    [[v_stg_orders]]
    isActive = True
    name = v_stg_orders
    stg_table = v_src_stg_orders
    order_pk = ORDERKEY
    part_pk = PARTKEY
    supplier_pk = SUPPLIERKEY
    lineitem_pk = LINENUMBER
    inventory_pk = PARTKEY, SUPPLIERKEY
    inventory_allocation_pk = LINENUMBER, PARTKEY, SUPPLIERKEY
    lineitem_hashdiff = COMMITDATE, DISCOUNT, EXTENDEDPRICE, LINE_COMMENT, LINESTATUS, QUANTITY, RECEIPTDATE, RETURNFLAG, SHIPDATE, SHIPINSTRUCT, SHIPMODE, TAX
    lineitem_order_pk = LINENUMBER, ORDERKEY
    order_hashdiff = CLERK, ORDER_COMMENT, ORDERDATE, ORDERPRIORITY, ORDERSTATUS, SHIPPRIORITY, TOTALPRICE
    order_customer_pk = ORDERKEY, CUSTOMERKEY
    customer_pk = CUSTOMERKEY
    link_customer_nation_pk = CUSTOMER_NATIONKEY, CUSTOMERKEY
    customer_hashdiff = CUSTOMER_ACCBAL, CUSTOMER_ADDRESS, CUSTOMER_COMMENT, CUSTOMER_MKTSEGMENT, CUSTOMER_NAME, CUSTOMER_PHONE
    customer_nation_pk = CUSTOMER_NATIONKEY
    customer_nation_hashdiff = CUSTOMER_NATION_NAME, CUSTOMER_NATION_COMMENT
    customer_region_pk = CUSTOMER_REGIONKEY
    customer_nation_region_pk = CUSTOMER_NATIONKEY, CUSTOMER_REGIONKEY
    customer_region_hashdiff = CUSTOMER_REGION_NAME, CUSTOMER_REGION_COMMENT
    tags = 'static', 'incremental'


    [[v_stg_inventory]]
    isActive = True
    name = v_stg_inventory
    stg_table = v_src_stg_inventory
    part_pk = PARTKEY
    supplier_pk = SUPPLIERKEY
    supplier_nation_key_pk = SUPPLIER_NATION_KEY
    supplier_region_key_pk = SUPPLIER_REGION_KEY
    inventory_pk = PARTKEY, SUPPLIERKEY
    link_supplier_nation_region_pk = SUPPLIER_NATION_KEY, SUPPLIER_REGION_KEY
    link_supplier_nation_pk = SUPPLIER_NATION_KEY, SUPPLIERKEY
    inventory_hashdiff = AVAILQTY, PART_SUPPLY_COMMENT, SUPPLYCOST
    part_hashdiff = PART_BRAND, PART_COMMENT, PART_CONTAINER, PART_MFGR, PART_NAME, PART_RETAILPRICE, PART_SIZE, PART_TYPE
    supplier_hashdiff = SUPPLIER_ACCTBAL, SUPPLIER_ADDRESS, SUPPLIER_COMMENT, SUPPLIER_NAME, SUPPLIER_PHONE
    supplier_nation_hashdiff = SUPPLIER_NATION_COMMENT, SUPPLIER_NATION_NAME
    supplier_region_hashdiff = SUPPLIER_REGION_COMMENT, SUPPLIER_REGION_NAME
    tags = 'static'

[Hubs]
    [[hub_customer]]
    isActive = True
    name = hub_customer
    stg_name = v_stg_orders
    table_columns = CUSTOMER_PK, CUSTOMERKEY, LOADDATE, SOURCE
    data_types = BINARY(16), NUMBER(38;0), DATE, VARCHAR
    stg_columns = CUSTOMER_PK, CUSTOMERKEY, LOADDATE, SOURCE
    pk = CUSTOMER_PK
    tags = 'static', 'incremental'

    [[hub_nation]]
    isActive = True
    name = hub_nation
    stg_name = v_nation_region
    table_columns = NATION_PK, NATIONKEY, LOADDATE, SOURCE
    data_types = BINARY(16), NUMBER(38;0), DATE, VARCHAR
    stg_columns = NATION_PK, NATIONKEY, LOADDATE, SOURCE
    pk = NATION_PK
    tags = 'static'

    [[hub_region]]
    isActive = True
    name = hub_region
    stg_name = v_nation_region
    table_columns = REGION_PK, REGIONKEY, LOADDATE, SOURCE
    data_types = BINARY(16), NUMBER(38;0), DATE, VARCHAR
    stg_columns = REGION_PK, REGIONKEY, LOADDATE, SOURCE
    pk = REGION_PK
    tags = 'static'

[Links]
    [[link_customer_nation]]
    isActive = True
    name = link_customer_nation
    stg_name = v_stg_orders
    table_columns = LINK_CUSTOMER_NATION_PK, CUSTOMER_PK, CUSTOMER_NATION_PK, LOADDATE, SOURCE
    data_types = BINARY(16), BINARY(16), BINARY(16), DATE, VARCHAR
    stg_columns = LINK_CUSTOMER_NATION_PK, CUSTOMER_PK, CUSTOMER_NATION_PK, LOADDATE, SOURCE
    pk = CUSTOMER_NATION_PK
    tags = 'static', 'incremental'

    [[link_nation_region]]
    isActive = True
    name = link_nation_region
    stg_name = v_nation_region
    table_columns = NATION_REGION_PK, NATION_PK, REGION_PK, LOADDATE, SOURCE
    data_types = BINARY(16), BINARY(16), BINARY(16), DATE, VARCHAR
    stg_columns = NATION_REGION_PK, NATION_PK, REGION_PK, LOADDATE, SOURCE
    pk = NATION_REGION_PK
    tags = 'static'

    [[link_inventory_allocation]]
    isActive = True
    name = link_inventory_allocation
    stg_name = v_stg_orders
    table_columns = INVENTORY_ALLOCATION_PK, PART_PK, SUPPLIER_PK, LINEITEM_PK, LOADDATE, SOURCE
    data_types = BINARY(16), BINARY(16), BINARY(16), BINARY(16), DATE, VARCHAR
    stg_columns = INVENTORY_ALLOCATION_PK, PART_PK, SUPPLIER_PK, LINEITEM_PK, LOADDATE, SOURCE
    pk = INVENTORY_ALLOCATION_PK
    tags = 'static'

[Satellites]
    [[sat_hub_customer]]
    isActive = True
    name = sat_hub_customer
    stg_name = v_stg_orders
    table_columns = CUSTOMER_HASHDIFF, CUSTOMER_PK, CUSTOMER_NAME, CUSTOMER_ADDRESS, CUSTOMER_PHONE, CUSTOMER_ACCBAL, CUSTOMER_MKTSEGMENT, CUSTOMER_COMMENT, LOADDATE, EFFECTIVE_FROM, SOURCE
    data_types = BINARY(16), BINARY(16), VARCHAR(25), VARCHAR(40), VARCHAR(15), NUMBER(12;2), VARCHAR(10), VARCHAR(117), DATE, DATE, VARCHAR(4)
    stg_columns = CUSTOMER_HASHDIFF, CUSTOMER_PK, CUSTOMER_NAME, CUSTOMER_ADDRESS, CUSTOMER_PHONE, CUSTOMER_ACCBAL, CUSTOMER_MKTSEGMENT, CUSTOMER_COMMENT, LOADDATE, EFFECTIVE_FROM, SOURCE
    pk = CUSTOMER_HASHDIFF
    tags = 'static', 'incremental'

    [[sat_hub_region]]
    isActive = True
    name = sat_hub_region
    stg_name = v_nation_region
    table_columns = REGION_HASHDIFF, REGION_PK, REGION_NAME, REGION_COMMENT, LOADDATE, EFFECTIVE_FROM, SOURCE
    data_types = BINARY(16), BINARY(16), VARCHAR(25), VARCHAR(152), DATE, DATE, VARCHAR(4)
    stg_columns = REGION_HASHDIFF, REGION_PK, REGION_NAME, REGION_COMMENT, LOADDATE, EFFECTIVE_FROM, SOURCE
    pk = REGION_HASHDIFF
    tags = 'static'